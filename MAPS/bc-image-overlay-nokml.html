<link rel="stylesheet" href="leaflet.css" />
<script src="leaflet.js"></script>
<script src="../bclib.js"></script>
<script src="../bclib-staging.js"></script>
<style>html,body, #map {height:100%;}</style>

<div id="map"></div>

<script>

opts = {};

for (i of location.search.replace("?","").split("&")) {

  [key, val] = i.split("=");

  opts[key] = val;

//  if (key == "center") {map.setView(val.split(",")); next;}

//  if (key == "zoom") {map.setZoom(val); next;}

  console.log("ALPHA",key,val);
}

// set default values (copied from bc-image-overlay-nokml.pl)

opts = mergeHashes(opts, str2hash("center=0,0&zoom=2&maptypeid=HYBRID&s=-90&n=90&e=180&w=-180&keypos=LEFT_BOTTOM&opacity=0.5&rotateControl=true&scaleControl=true&overviewMapControl=true"));

var map = L.map('map').setView([0, 0], 4);

var layer = L.tileLayer('https://a.tile.openstreetmap.org/{z}/{x}/{y}.png');

layer.addTo(map);

console.log("ALPHA", opts);

// set the view based on the opts



// console.log("ALPHA", location.search.replace("?","").split("&"));

// alert(location);

</script>
