# XML like (but not true XML) description of various computer
# programming languages used by bc-lang-convert.pl

# fields are:
#
# extension: the file extension associated with this language
# prefix: programs in this language must start with this
# postfix: programs in this language must end with this
# fdef: the template for a function definition in this language
# pdef: the template for printing the results of a function call
# math: The "math" object in this language ("Math", "math", or "" = not given)
# comment: single line comment
# mcomment: multi-line comment
# run: how to run a program

# macros are:

# NOTE: <VARS> are the function's argument's names and <ARGS> are the
# values assigned to these arguments during testing

# <FNAME>: function name
# <VARS>: arguments to function, as comma separated list (like "x,y,z")
# <CODE>: code generated by bc-lang-convert.pl
# <ARGS>: arguments to the function for testing (like "1,2,3")
# <COMMENT>: the contents of a comment
# <FILE>: file containing code

# TODO: think there are better pdefs for some of these languages

<language name="ruby">
<extension>rb</extension>
<fdef>def <FNAME>(<VARS>) <CODE> end</fdef>
<pdef>print <FNAME>(<ARGS>)</pdef>
<math>Math</math>
<comment># <COMMENT></comment>
<mcomment>
=begin

<COMMENT>

=end
</mcomment>
<run>ruby <FILE></run>
</language>

<language name="python">
<extension>py</extension>
<fdef>def <FNAME>(<VARS>):
 return <CODE>
</fdef>
<pdef>print(<FNAME>(<ARGS>))</pdef>
<math>math</math>
<comment># <COMMENT></comment>
# NOTE: python does not have multiline comments, this is a hack!
<mcomment>"""<COMMENT>"""</mcomment>
<run>python <FILE></run>
</language>

<language name="javascript">
<extension>js</extension>
<fdef>function <FNAME>(<VARS>) {return <CODE>;}</fdef>
<pdef>print(<FNAME>(<ARGS>));</pdef>
<math>Math</math>
<comment>// <COMMENT></comment>
<mcomment>/* <COMMENT> */</mcomment>
<run>js <FILE></run>
</language>

<language name="lua">
<extension>lua</extension>
<fdef>function <FNAME>(<VARS>) return <CODE> end</fdef>
<pdef>print(<FNAME>(<ARGS>))</pdef>
<math>math</math>
<comment>-- <COMMENT></comment>
<mcomment>-- [[ <COMMENT> ]]</mcomment>
<run>lua <FILE></run>
</language>

<language name="php">
<extension>php</extension>
<fdef>function <FNAME>(<DVARS>) {return <CODE>;}</fdef>
<pdef>print_r(<FNAME>(<ARGS>));</pdef>
# TODO: not including "#" style comment for simplicity for now
<comment>// <COMMENT></comment>
<mcomment>/* <COMMENT> */</mcomment>
# prefix/postfix required for standard "php codefile" run
# TODO: find php options that dont require prefix/postfix?
<prefix><?</prefix>
<postfix>?></postfix>
<run>php <FILE></run>
</language>

<language name="R">
<extension>r</extension>
<fdef><FNAME> <- function(<VARS>) {return(<CODE>)}</fdef>
<pdef>print(<FNAME>(<ARGS>))</pdef>
<comment># <COMMENT></comment>
<run>R --no-save < <FILE></run>
</language>

# TODO: perl and Mathematica (though I generate FROM Mathematica, so
# maybe pointless)

